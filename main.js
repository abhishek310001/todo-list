(()=>{"use strict";Math.pow(10,8);var e=36e5;function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}var n={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},r=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,a=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(e){return e?parseInt(e):1}function i(e){return e&&parseFloat(e.replace(",","."))||0}var c=[31,null,31,30,31,30,31,31,30,31,30,31];function u(e){return e%400==0||e%4==0&&e%100!=0}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function s(){document.getElementById("add-todo-form").style.display=""}function m(){const e=document.getElementById("add-to-checklist").value;if(""!==e){const t=document.querySelector(".todo-ul"),n=document.createElement("li");n.className="form-li",n.textContent=e;const r=document.createElement("span");r.className="remove-checklist-item";const o=document.createTextNode("×");n.appendChild(r),r.appendChild(o),t.appendChild(n),document.getElementById("add-to-checklist").value="",document.querySelectorAll(".form-li").length>0&&document.querySelectorAll(".form-li").forEach((e=>{e.addEventListener("click",(function(){e.remove()}))}))}}function f(){const e=document.querySelectorAll(".form-li");for(let t=0;t<e.length;t++)e[t].remove();document.getElementById("add-todo").reset()}function g(){let e=localStorage.getItem("Title"),t=localStorage.getItem("Description"),n=localStorage.getItem("DueDate"),r=localStorage.getItem("Priority"),o=localStorage.getItem("CheckList");if(null==e||null==t||null==n||null==r)return;const a=document.querySelectorAll(".card");for(let e=0;e<a.length;e++)a[e].remove();const l=document.querySelector(".projects"),i=document.createElement("div");i.classList.add("card"),l.appendChild(i);let c={Title:e,Description:t,DueDate:n,Priority:r};for(let e in c){const t=document.createElement("p");t.textContent=`${e}: ${c[e]}`,i.appendChild(t)}const u=document.querySelectorAll("p"),d=document.createElement("p");d.textContent="CheckList Items (Click item when completed):";const s=document.createElement("ul");d.classList.add("check-list-label"),u[u.length-1].appendChild(s),s.appendChild(d);let m=o.split(",");if(""===o)return;for(let e=0;e<m.length;e++){const t=document.createElement("li");t.className="display-li",t.textContent=m[e],t.addEventListener("click",(function(){t.classList.toggle("done")?localStorage.setItem(t.textContent,"true"):t.classList.toggle("display-li")&&localStorage.setItem(t.textContent,"false")})),s.appendChild(t)}const f=document.createElement("button");f.classList.add("remove-todo-button"),f.textContent="Delete/Complete ToDo",i.appendChild(f),f.addEventListener("click",(function(){i.remove(),localStorage.clear()})),window.onload=function(){document.querySelectorAll(".display-li").forEach((e=>{"true"==localStorage.getItem(e.textContent)&&(e.className="done")}))}}let p=[];const y=()=>{let s=document.getElementById("Title").value,m=document.getElementById("Description").value,y=document.getElementById("DueDate").value,D=document.getElementById("Priority").value;if(""==s||""==m||""==y)return void alert("Title, Description, and Due Date are required fields, please try again!");if(function(d,s){var m;t(1,arguments);var f=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(m=null==s?void 0:s.additionalDigits)&&void 0!==m?m:2);if(2!==f&&1!==f&&0!==f)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof d&&"[object String]"!==Object.prototype.toString.call(d))return new Date(NaN);var g,p=function(e){var t,r={},o=e.split(n.dateTimeDelimiter);if(o.length>2)return r;if(/:/.test(o[0])?t=o[0]:(r.date=o[0],t=o[1],n.timeZoneDelimiter.test(r.date)&&(r.date=e.split(n.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){var a=n.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(d);if(p.date){var y=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?o:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(p.date,f);g=function(e,t){if(null===t)return new Date(NaN);var n=e.match(r);if(!n)return new Date(NaN);var o=!!n[4],a=l(n[1]),i=l(n[2])-1,d=l(n[3]),s=l(n[4]),m=l(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,m)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}(t,s,m):new Date(NaN);var f=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(c[t]||(u(e)?29:28))}(t,i,d)&&function(e,t){return t>=1&&t<=(u(e)?366:365)}(t,a)?(f.setUTCFullYear(t,i,Math.max(a,d)),f):new Date(NaN)}(y.restDateString,y.year)}if(!g||isNaN(g.getTime()))return new Date(NaN);var D,h=g.getTime(),v=0;if(p.time&&(v=function(t){var n=t.match(o);if(!n)return NaN;var r=i(n[1]),a=i(n[2]),l=i(n[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(r,a,l)?r*e+6e4*a+1e3*l:NaN}(p.time),isNaN(v)))return new Date(NaN);if(!p.timezone){var N=new Date(h+v),S=new Date(0);return S.setFullYear(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate()),S.setHours(N.getUTCHours(),N.getUTCMinutes(),N.getUTCSeconds(),N.getUTCMilliseconds()),S}return D=function(t){if("Z"===t)return 0;var n=t.match(a);if(!n)return 0;var r="+"===n[1]?-1:1,o=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return function(e,t){return t>=0&&t<=59}(0,l)?r*(o*e+6e4*l):NaN}(p.timezone),isNaN(D)?new Date(NaN):new Date(h+v+D)}(y)<function(e){t(1,arguments);var n=function(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===d(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(e);return n.setHours(0,0,0,0),n}(Date.now()))return void alert("You have entered a date that has already passed!  Please enter a date greater than or equal to today.");const h=document.querySelectorAll(".form-li");let v=[];for(let e=0;e<h.length;e++){let t=h[e].textContent.replace("×","");v.push(t)}let N=v.join(", ");return p.push({Title:s,Description:m,DueDate:y,Priority:D,CheckList:N}),function({Title:e,Description:t,DueDate:n,Priority:r},o){localStorage.setItem("Title",e),localStorage.setItem("Description",t),localStorage.setItem("DueDate",n),localStorage.setItem("Priority",r),localStorage.setItem("CheckList",o),g()}({Title:s,Description:m,DueDate:y,Priority:D},N),f(),N};g(),document.querySelector(".add-todo-button").addEventListener("click",s),document.querySelector(".add-to-checklist").addEventListener("click",m),document.querySelector(".reset-button").addEventListener("click",f),document.querySelector(".submit-button").addEventListener("click",y)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBS29ELFNBQVMsRUFBRyxFQUFHLEVBQUcsR0FDaEJwRCxDQUNULENFSlNxRSxDQUFXdEUsS0FBS3VFLE9KRXJCLFlBSEF6RixNQUNFLHlHQUtKLE1BQU0vQixFQUFvQnRCLFNBQVNnQixpQkFBaUIsWUFDcEQsSUFBSTBCLEVBQWlCLEdBQ3JCLElBQUssSUFBSW5CLEVBQUksRUFBR0EsRUFBSUQsRUFBa0IvQyxPQUFRZ0QsSUFBSyxDQUNqRCxJQUFJd0gsRUFBb0J6SCxFQUFrQkMsR0FBR1osWUFBWXRCLFFBQ3ZELElBQ0EsSUFFRnFELEVBQWVzRyxLQUFLRCxFQUN0QixDQUVBLElBQUlFLEVBQVl2RyxFQUFld0csS0FBSyxNQUtwQyxPQUpBL0YsRUFBVTZGLEtBQUssQ0FBRXRILFFBQU9HLGNBQWFDLFVBQVNDLFdBQVVrSCxjS25DbkQsVUFBeUIsTUFBRXZILEVBQUssWUFBRUcsRUFBVyxRQUFFQyxFQUFPLFNBQUVDLEdBQVlrSCxHQUN2RXRILGFBQWFrQixRQUFRLFFBQVNuQixHQUM5QkMsYUFBYWtCLFFBQVEsY0FBZWhCLEdBQ3BDRixhQUFha0IsUUFBUSxVQUFXZixHQUNoQ0gsYUFBYWtCLFFBQVEsV0FBWWQsR0FDakNKLGFBQWFrQixRQUFRLFlBQWFvRyxHQUNsQ3hILEdBRUosQ0w0QkUwSCxDQUFnQixDQUFFekgsUUFBT0csY0FBYUMsVUFBU0MsWUFBWWtILEdBQzNENUgsSUFFa0Q0SCxDQUFTLEVNdEM3RHhILElBSXVCekIsU0FBU08sY0FBYyxvQkFDL0JZLGlCQUFpQixRQUFTcEIsR0FFZEMsU0FBU08sY0FBYyxxQkFDL0JZLGlCQUFpQixRQUFTZixHQUV4QkosU0FBU08sY0FBYyxpQkFDL0JZLGlCQUFpQixRQUFTRSxHQUVqQnJCLFNBQVNPLGNBQWMsa0JBQy9CWSxpQkFBaUIsUUFBU2lDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2NvbnN0YW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vcGFyc2VJU08vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZG9tLW1hbmlwLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jcmVhdGUtdG8tZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3RvSW50ZWdlci9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS90b0RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9zdGFydE9mVG9kYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2xvY2FsLXN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGF5cyBpbiAxIHdlZWsuXG4gKlxuICogQG5hbWUgZGF5c0luV2Vla1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBkYXlzSW5XZWVrID0gNztcblxuLyoqXG4gKiBEYXlzIGluIDEgeWVhclxuICogT25lIHllYXJzIGVxdWFscyAzNjUuMjQyNSBkYXlzIGFjY29yZGluZyB0byB0aGUgZm9ybXVsYTpcbiAqXG4gKiA+IExlYXAgeWVhciBvY2N1cmVzIGV2ZXJ5IDQgeWVhcnMsIGV4Y2VwdCBmb3IgeWVhcnMgdGhhdCBhcmUgZGl2aXNhYmxlIGJ5IDEwMCBhbmQgbm90IGRpdmlzYWJsZSBieSA0MDAuXG4gKiA+IDEgbWVhbiB5ZWFyID0gKDM2NSsxLzQtMS8xMDArMS80MDApIGRheXMgPSAzNjUuMjQyNSBkYXlzXG4gKlxuICogQG5hbWUgZGF5c0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBkYXlzSW5ZZWFyID0gMzY1LjI0MjU7XG5cbi8qKlxuICogTWF4aW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQG5hbWUgbWF4VGltZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBtYXhUaW1lID0gTWF0aC5wb3coMTAsIDgpICogMjQgKiA2MCAqIDYwICogMTAwMDtcblxuLyoqXG4gKiBNaWxsaXNlY29uZHMgaW4gMSBtaW51dGVcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbk1pbnV0ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBtaWxsaXNlY29uZHNJbk1pbnV0ZSA9IDYwMDAwO1xuXG4vKipcbiAqIE1pbGxpc2Vjb25kcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkhvdXJcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cbmV4cG9ydCB2YXIgbWlsbGlzZWNvbmRzSW5Ib3VyID0gMzYwMDAwMDtcblxuLyoqXG4gKiBNaWxsaXNlY29uZHMgaW4gMSBzZWNvbmRcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJblNlY29uZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBtaWxsaXNlY29uZHNJblNlY29uZCA9IDEwMDA7XG5cbi8qKlxuICogTWluaW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQG5hbWUgbWluVGltZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBtaW5UaW1lID0gLW1heFRpbWU7XG5cbi8qKlxuICogTWludXRlcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBtaW51dGVzSW5Ib3VyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5leHBvcnQgdmFyIG1pbnV0ZXNJbkhvdXIgPSA2MDtcblxuLyoqXG4gKiBNb250aHMgaW4gMSBxdWFydGVyXG4gKlxuICogQG5hbWUgbW9udGhzSW5RdWFydGVyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5leHBvcnQgdmFyIG1vbnRoc0luUXVhcnRlciA9IDM7XG5cbi8qKlxuICogTW9udGhzIGluIDEgeWVhclxuICpcbiAqIEBuYW1lIG1vbnRoc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBtb250aHNJblllYXIgPSAxMjtcblxuLyoqXG4gKiBRdWFydGVycyBpbiAxIHllYXJcbiAqXG4gKiBAbmFtZSBxdWFydGVyc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBxdWFydGVyc0luWWVhciA9IDQ7XG5cbi8qKlxuICogU2Vjb25kcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5Ib3VyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5leHBvcnQgdmFyIHNlY29uZHNJbkhvdXIgPSAzNjAwO1xuXG4vKipcbiAqIFNlY29uZHMgaW4gMSBtaW51dGVcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5NaW51dGVcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cbmV4cG9ydCB2YXIgc2Vjb25kc0luTWludXRlID0gNjA7XG5cbi8qKlxuICogU2Vjb25kcyBpbiAxIGRheVxuICpcbiAqIEBuYW1lIHNlY29uZHNJbkRheVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBzZWNvbmRzSW5EYXkgPSBzZWNvbmRzSW5Ib3VyICogMjQ7XG5cbi8qKlxuICogU2Vjb25kcyBpbiAxIHdlZWtcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5XZWVrXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5leHBvcnQgdmFyIHNlY29uZHNJbldlZWsgPSBzZWNvbmRzSW5EYXkgKiA3O1xuXG4vKipcbiAqIFNlY29uZHMgaW4gMSB5ZWFyXG4gKlxuICogQG5hbWUgc2Vjb25kc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBzZWNvbmRzSW5ZZWFyID0gc2Vjb25kc0luRGF5ICogZGF5c0luWWVhcjtcblxuLyoqXG4gKiBTZWNvbmRzIGluIDEgbW9udGhcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5Nb250aFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBzZWNvbmRzSW5Nb250aCA9IHNlY29uZHNJblllYXIgLyAxMjtcblxuLyoqXG4gKiBTZWNvbmRzIGluIDEgcXVhcnRlclxuICpcbiAqIEBuYW1lIHNlY29uZHNJblF1YXJ0ZXJcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cbmV4cG9ydCB2YXIgc2Vjb25kc0luUXVhcnRlciA9IHNlY29uZHNJbk1vbnRoICogMzsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJpbXBvcnQgeyBtaWxsaXNlY29uZHNJbkhvdXIsIG1pbGxpc2Vjb25kc0luTWludXRlIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbmltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIHBhcnNlSVNPXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFBhcnNlIElTTyBzdHJpbmdcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFBhcnNlIHRoZSBnaXZlbiBzdHJpbmcgaW4gSVNPIDg2MDEgZm9ybWF0IGFuZCByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBGdW5jdGlvbiBhY2NlcHRzIGNvbXBsZXRlIElTTyA4NjAxIGZvcm1hdHMgYXMgd2VsbCBhcyBwYXJ0aWFsIGltcGxlbWVudGF0aW9ucy5cbiAqIElTTyA4NjAxOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzbid0IGEgc3RyaW5nLCB0aGUgZnVuY3Rpb24gY2Fubm90IHBhcnNlIHRoZSBzdHJpbmcgb3JcbiAqIHRoZSB2YWx1ZXMgYXJlIGludmFsaWQsIGl0IHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhcmd1bWVudCAtIHRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7MHwxfDJ9IFtvcHRpb25zLmFkZGl0aW9uYWxEaWdpdHM9Ml0gLSB0aGUgYWRkaXRpb25hbCBudW1iZXIgb2YgZGlnaXRzIGluIHRoZSBleHRlbmRlZCB5ZWFyIGZvcm1hdFxuICogQHJldHVybnMge0RhdGV9IHRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLmFkZGl0aW9uYWxEaWdpdHNgIG11c3QgYmUgMCwgMSBvciAyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgc3RyaW5nICcyMDE0LTAyLTExVDExOjMwOjMwJyB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gcGFyc2VJU08oJzIwMTQtMDItMTFUMTE6MzA6MzAnKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCBzdHJpbmcgJyswMjAxNDEwMScgdG8gZGF0ZSxcbiAqIC8vIGlmIHRoZSBhZGRpdGlvbmFsIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGV4dGVuZGVkIHllYXIgZm9ybWF0IGlzIDE6XG4gKiBjb25zdCByZXN1bHQgPSBwYXJzZUlTTygnKzAyMDE0MTAxJywgeyBhZGRpdGlvbmFsRGlnaXRzOiAxIH0pXG4gKiAvLz0+IEZyaSBBcHIgMTEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUlTTyhhcmd1bWVudCwgb3B0aW9ucykge1xuICB2YXIgX29wdGlvbnMkYWRkaXRpb25hbERpO1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFkZGl0aW9uYWxEaWdpdHMgPSB0b0ludGVnZXIoKF9vcHRpb25zJGFkZGl0aW9uYWxEaSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hZGRpdGlvbmFsRGlnaXRzKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRhZGRpdGlvbmFsRGkgIT09IHZvaWQgMCA/IF9vcHRpb25zJGFkZGl0aW9uYWxEaSA6IDIpO1xuICBpZiAoYWRkaXRpb25hbERpZ2l0cyAhPT0gMiAmJiBhZGRpdGlvbmFsRGlnaXRzICE9PSAxICYmIGFkZGl0aW9uYWxEaWdpdHMgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYWRkaXRpb25hbERpZ2l0cyBtdXN0IGJlIDAsIDEgb3IgMicpO1xuICB9XG4gIGlmICghKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbiAgdmFyIGRhdGVTdHJpbmdzID0gc3BsaXREYXRlU3RyaW5nKGFyZ3VtZW50KTtcbiAgdmFyIGRhdGU7XG4gIGlmIChkYXRlU3RyaW5ncy5kYXRlKSB7XG4gICAgdmFyIHBhcnNlWWVhclJlc3VsdCA9IHBhcnNlWWVhcihkYXRlU3RyaW5ncy5kYXRlLCBhZGRpdGlvbmFsRGlnaXRzKTtcbiAgICBkYXRlID0gcGFyc2VEYXRlKHBhcnNlWWVhclJlc3VsdC5yZXN0RGF0ZVN0cmluZywgcGFyc2VZZWFyUmVzdWx0LnllYXIpO1xuICB9XG4gIGlmICghZGF0ZSB8fCBpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxuICB2YXIgdGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XG4gIHZhciB0aW1lID0gMDtcbiAgdmFyIG9mZnNldDtcbiAgaWYgKGRhdGVTdHJpbmdzLnRpbWUpIHtcbiAgICB0aW1lID0gcGFyc2VUaW1lKGRhdGVTdHJpbmdzLnRpbWUpO1xuICAgIGlmIChpc05hTih0aW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9XG4gIGlmIChkYXRlU3RyaW5ncy50aW1lem9uZSkge1xuICAgIG9mZnNldCA9IHBhcnNlVGltZXpvbmUoZGF0ZVN0cmluZ3MudGltZXpvbmUpO1xuICAgIGlmIChpc05hTihvZmZzZXQpKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRpcnR5RGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCArIHRpbWUpO1xuICAgIC8vIGpzIHBhcnNlZCBzdHJpbmcgYXNzdW1pbmcgaXQncyBpbiBVVEMgdGltZXpvbmVcbiAgICAvLyBidXQgd2UgbmVlZCBpdCB0byBiZSBwYXJzZWQgaW4gb3VyIHRpbWV6b25lXG4gICAgLy8gc28gd2UgdXNlIHV0YyB2YWx1ZXMgdG8gYnVpbGQgZGF0ZSBpbiBvdXIgdGltZXpvbmUuXG4gICAgLy8gWWVhciB2YWx1ZXMgZnJvbSAwIHRvIDk5IG1hcCB0byB0aGUgeWVhcnMgMTkwMCB0byAxOTk5XG4gICAgLy8gc28gc2V0IHllYXIgZXhwbGljaXRseSB3aXRoIHNldEZ1bGxZZWFyLlxuICAgIHZhciByZXN1bHQgPSBuZXcgRGF0ZSgwKTtcbiAgICByZXN1bHQuc2V0RnVsbFllYXIoZGlydHlEYXRlLmdldFVUQ0Z1bGxZZWFyKCksIGRpcnR5RGF0ZS5nZXRVVENNb250aCgpLCBkaXJ0eURhdGUuZ2V0VVRDRGF0ZSgpKTtcbiAgICByZXN1bHQuc2V0SG91cnMoZGlydHlEYXRlLmdldFVUQ0hvdXJzKCksIGRpcnR5RGF0ZS5nZXRVVENNaW51dGVzKCksIGRpcnR5RGF0ZS5nZXRVVENTZWNvbmRzKCksIGRpcnR5RGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICsgdGltZSArIG9mZnNldCk7XG59XG52YXIgcGF0dGVybnMgPSB7XG4gIGRhdGVUaW1lRGVsaW1pdGVyOiAvW1QgXS8sXG4gIHRpbWVab25lRGVsaW1pdGVyOiAvW1ogXS9pLFxuICB0aW1lem9uZTogLyhbWistXS4qKSQvXG59O1xudmFyIGRhdGVSZWdleCA9IC9eLT8oPzooXFxkezN9KXwoXFxkezJ9KSg/Oi0/KFxcZHsyfSkpP3xXKFxcZHsyfSkoPzotPyhcXGR7MX0pKT98KSQvO1xudmFyIHRpbWVSZWdleCA9IC9eKFxcZHsyfSg/OlsuLF1cXGQqKT8pKD86Oj8oXFxkezJ9KD86Wy4sXVxcZCopPykpPyg/Ojo/KFxcZHsyfSg/OlsuLF1cXGQqKT8pKT8kLztcbnZhciB0aW1lem9uZVJlZ2V4ID0gL14oWystXSkoXFxkezJ9KSg/Ojo/KFxcZHsyfSkpPyQvO1xuZnVuY3Rpb24gc3BsaXREYXRlU3RyaW5nKGRhdGVTdHJpbmcpIHtcbiAgdmFyIGRhdGVTdHJpbmdzID0ge307XG4gIHZhciBhcnJheSA9IGRhdGVTdHJpbmcuc3BsaXQocGF0dGVybnMuZGF0ZVRpbWVEZWxpbWl0ZXIpO1xuICB2YXIgdGltZVN0cmluZztcblxuICAvLyBUaGUgcmVnZXggbWF0Y2ggc2hvdWxkIG9ubHkgcmV0dXJuIGF0IG1heGltdW0gdHdvIGFycmF5IGVsZW1lbnRzLlxuICAvLyBbZGF0ZV0sIFt0aW1lXSwgb3IgW2RhdGUsIHRpbWVdLlxuICBpZiAoYXJyYXkubGVuZ3RoID4gMikge1xuICAgIHJldHVybiBkYXRlU3RyaW5ncztcbiAgfVxuICBpZiAoLzovLnRlc3QoYXJyYXlbMF0pKSB7XG4gICAgdGltZVN0cmluZyA9IGFycmF5WzBdO1xuICB9IGVsc2Uge1xuICAgIGRhdGVTdHJpbmdzLmRhdGUgPSBhcnJheVswXTtcbiAgICB0aW1lU3RyaW5nID0gYXJyYXlbMV07XG4gICAgaWYgKHBhdHRlcm5zLnRpbWVab25lRGVsaW1pdGVyLnRlc3QoZGF0ZVN0cmluZ3MuZGF0ZSkpIHtcbiAgICAgIGRhdGVTdHJpbmdzLmRhdGUgPSBkYXRlU3RyaW5nLnNwbGl0KHBhdHRlcm5zLnRpbWVab25lRGVsaW1pdGVyKVswXTtcbiAgICAgIHRpbWVTdHJpbmcgPSBkYXRlU3RyaW5nLnN1YnN0cihkYXRlU3RyaW5ncy5kYXRlLmxlbmd0aCwgZGF0ZVN0cmluZy5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICBpZiAodGltZVN0cmluZykge1xuICAgIHZhciB0b2tlbiA9IHBhdHRlcm5zLnRpbWV6b25lLmV4ZWModGltZVN0cmluZyk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lID0gdGltZVN0cmluZy5yZXBsYWNlKHRva2VuWzFdLCAnJyk7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lem9uZSA9IHRva2VuWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lID0gdGltZVN0cmluZztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGVTdHJpbmdzO1xufVxuZnVuY3Rpb24gcGFyc2VZZWFyKGRhdGVTdHJpbmcsIGFkZGl0aW9uYWxEaWdpdHMpIHtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXig/OihcXFxcZHs0fXxbKy1dXFxcXGR7JyArICg0ICsgYWRkaXRpb25hbERpZ2l0cykgKyAnfSl8KFxcXFxkezJ9fFsrLV1cXFxcZHsnICsgKDIgKyBhZGRpdGlvbmFsRGlnaXRzKSArICd9KSQpJyk7XG4gIHZhciBjYXB0dXJlcyA9IGRhdGVTdHJpbmcubWF0Y2gocmVnZXgpO1xuICAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgeWVhclxuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4ge1xuICAgIHllYXI6IE5hTixcbiAgICByZXN0RGF0ZVN0cmluZzogJydcbiAgfTtcbiAgdmFyIHllYXIgPSBjYXB0dXJlc1sxXSA/IHBhcnNlSW50KGNhcHR1cmVzWzFdKSA6IG51bGw7XG4gIHZhciBjZW50dXJ5ID0gY2FwdHVyZXNbMl0gPyBwYXJzZUludChjYXB0dXJlc1syXSkgOiBudWxsO1xuXG4gIC8vIGVpdGhlciB5ZWFyIG9yIGNlbnR1cnkgaXMgbnVsbCwgbm90IGJvdGhcbiAgcmV0dXJuIHtcbiAgICB5ZWFyOiBjZW50dXJ5ID09PSBudWxsID8geWVhciA6IGNlbnR1cnkgKiAxMDAsXG4gICAgcmVzdERhdGVTdHJpbmc6IGRhdGVTdHJpbmcuc2xpY2UoKGNhcHR1cmVzWzFdIHx8IGNhcHR1cmVzWzJdKS5sZW5ndGgpXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZVN0cmluZywgeWVhcikge1xuICAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgeWVhclxuICBpZiAoeWVhciA9PT0gbnVsbCkgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIHZhciBjYXB0dXJlcyA9IGRhdGVTdHJpbmcubWF0Y2goZGF0ZVJlZ2V4KTtcbiAgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHN0cmluZ1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgdmFyIGlzV2Vla0RhdGUgPSAhIWNhcHR1cmVzWzRdO1xuICB2YXIgZGF5T2ZZZWFyID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1sxXSk7XG4gIHZhciBtb250aCA9IHBhcnNlRGF0ZVVuaXQoY2FwdHVyZXNbMl0pIC0gMTtcbiAgdmFyIGRheSA9IHBhcnNlRGF0ZVVuaXQoY2FwdHVyZXNbM10pO1xuICB2YXIgd2VlayA9IHBhcnNlRGF0ZVVuaXQoY2FwdHVyZXNbNF0pO1xuICB2YXIgZGF5T2ZXZWVrID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1s1XSkgLSAxO1xuICBpZiAoaXNXZWVrRGF0ZSkge1xuICAgIGlmICghdmFsaWRhdGVXZWVrRGF0ZSh5ZWFyLCB3ZWVrLCBkYXlPZldlZWspKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICB9XG4gICAgcmV0dXJuIGRheU9mSVNPV2Vla1llYXIoeWVhciwgd2VlaywgZGF5T2ZXZWVrKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuICAgIGlmICghdmFsaWRhdGVEYXRlKHllYXIsIG1vbnRoLCBkYXkpIHx8ICF2YWxpZGF0ZURheU9mWWVhckRhdGUoeWVhciwgZGF5T2ZZZWFyKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeWVhciwgbW9udGgsIE1hdGgubWF4KGRheU9mWWVhciwgZGF5KSk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlRGF0ZVVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gcGFyc2VJbnQodmFsdWUpIDogMTtcbn1cbmZ1bmN0aW9uIHBhcnNlVGltZSh0aW1lU3RyaW5nKSB7XG4gIHZhciBjYXB0dXJlcyA9IHRpbWVTdHJpbmcubWF0Y2godGltZVJlZ2V4KTtcbiAgaWYgKCFjYXB0dXJlcykgcmV0dXJuIE5hTjsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHRpbWVcblxuICB2YXIgaG91cnMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1pbnV0ZXMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzJdKTtcbiAgdmFyIHNlY29uZHMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzNdKTtcbiAgaWYgKCF2YWxpZGF0ZVRpbWUoaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuICByZXR1cm4gaG91cnMgKiBtaWxsaXNlY29uZHNJbkhvdXIgKyBtaW51dGVzICogbWlsbGlzZWNvbmRzSW5NaW51dGUgKyBzZWNvbmRzICogMTAwMDtcbn1cbmZ1bmN0aW9uIHBhcnNlVGltZVVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHBhcnNlRmxvYXQodmFsdWUucmVwbGFjZSgnLCcsICcuJykpIHx8IDA7XG59XG5mdW5jdGlvbiBwYXJzZVRpbWV6b25lKHRpbWV6b25lU3RyaW5nKSB7XG4gIGlmICh0aW1lem9uZVN0cmluZyA9PT0gJ1onKSByZXR1cm4gMDtcbiAgdmFyIGNhcHR1cmVzID0gdGltZXpvbmVTdHJpbmcubWF0Y2godGltZXpvbmVSZWdleCk7XG4gIGlmICghY2FwdHVyZXMpIHJldHVybiAwO1xuICB2YXIgc2lnbiA9IGNhcHR1cmVzWzFdID09PSAnKycgPyAtMSA6IDE7XG4gIHZhciBob3VycyA9IHBhcnNlSW50KGNhcHR1cmVzWzJdKTtcbiAgdmFyIG1pbnV0ZXMgPSBjYXB0dXJlc1szXSAmJiBwYXJzZUludChjYXB0dXJlc1szXSkgfHwgMDtcbiAgaWYgKCF2YWxpZGF0ZVRpbWV6b25lKGhvdXJzLCBtaW51dGVzKSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgcmV0dXJuIHNpZ24gKiAoaG91cnMgKiBtaWxsaXNlY29uZHNJbkhvdXIgKyBtaW51dGVzICogbWlsbGlzZWNvbmRzSW5NaW51dGUpO1xufVxuZnVuY3Rpb24gZGF5T2ZJU09XZWVrWWVhcihpc29XZWVrWWVhciwgd2VlaywgZGF5KSB7XG4gIHZhciBkYXRlID0gbmV3IERhdGUoMCk7XG4gIGRhdGUuc2V0VVRDRnVsbFllYXIoaXNvV2Vla1llYXIsIDAsIDQpO1xuICB2YXIgZm91cnRoT2ZKYW51YXJ5RGF5ID0gZGF0ZS5nZXRVVENEYXkoKSB8fCA3O1xuICB2YXIgZGlmZiA9ICh3ZWVrIC0gMSkgKiA3ICsgZGF5ICsgMSAtIGZvdXJ0aE9mSmFudWFyeURheTtcbiAgZGF0ZS5zZXRVVENEYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpICsgZGlmZik7XG4gIHJldHVybiBkYXRlO1xufVxuXG4vLyBWYWxpZGF0aW9uIGZ1bmN0aW9uc1xuXG4vLyBGZWJydWFyeSBpcyBudWxsIHRvIGhhbmRsZSB0aGUgbGVhcCB5ZWFyICh1c2luZyB8fClcbnZhciBkYXlzSW5Nb250aHMgPSBbMzEsIG51bGwsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbmZ1bmN0aW9uIGlzTGVhcFllYXJJbmRleCh5ZWFyKSB7XG4gIHJldHVybiB5ZWFyICUgNDAwID09PSAwIHx8IHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDA7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZURhdGUoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgcmV0dXJuIG1vbnRoID49IDAgJiYgbW9udGggPD0gMTEgJiYgZGF0ZSA+PSAxICYmIGRhdGUgPD0gKGRheXNJbk1vbnRoc1ttb250aF0gfHwgKGlzTGVhcFllYXJJbmRleCh5ZWFyKSA/IDI5IDogMjgpKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpIHtcbiAgcmV0dXJuIGRheU9mWWVhciA+PSAxICYmIGRheU9mWWVhciA8PSAoaXNMZWFwWWVhckluZGV4KHllYXIpID8gMzY2IDogMzY1KTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlV2Vla0RhdGUoX3llYXIsIHdlZWssIGRheSkge1xuICByZXR1cm4gd2VlayA+PSAxICYmIHdlZWsgPD0gNTMgJiYgZGF5ID49IDAgJiYgZGF5IDw9IDY7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVRpbWUoaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpIHtcbiAgaWYgKGhvdXJzID09PSAyNCkge1xuICAgIHJldHVybiBtaW51dGVzID09PSAwICYmIHNlY29uZHMgPT09IDA7XG4gIH1cbiAgcmV0dXJuIHNlY29uZHMgPj0gMCAmJiBzZWNvbmRzIDwgNjAgJiYgbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCAmJiBob3VycyA+PSAwICYmIGhvdXJzIDwgMjU7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVRpbWV6b25lKF9ob3VycywgbWludXRlcykge1xuICByZXR1cm4gbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPD0gNTk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZGlzcGxheVRoZUZvcm0oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtdG9kby1mb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkSXRlbVRvQ2hlY2tMaXN0KCkge1xuICAgIGNvbnN0IGFkZEl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC10by1jaGVja2xpc3RcIikudmFsdWU7XG4gICAgaWYgKGFkZEl0ZW0gIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tdWxcIik7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSBcImZvcm0tbGlcIjtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBhZGRJdGVtO1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJyZW1vdmUtY2hlY2tsaXN0LWl0ZW1cIjtcbiAgICAgICAgY29uc3QgcmVtb3ZlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXFx1MDBEN1wiKTtcbiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQocmVtb3ZlSWNvbik7XG4gICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtdG8tY2hlY2tsaXN0XCIpLnZhbHVlID0gXCJcIjtcblxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtLWxpXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVMaXN0Q2hlY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtLWxpXCIpO1xuICAgICAgICAgICAgbm9kZUxpc3RDaGVja0xpc3QuZm9yRWFjaChjaGVja0xpc3RJdGVtID0+IHtcbiAgICAgICAgICAgICAgICBjaGVja0xpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiByZW1vdmVJdGVtRnJvbUNoZWNrbGlzdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tMaXN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9IGVsc2UgcmV0dXJuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJGb3JtKCkge1xuICAgIGNvbnN0IG5vZGVMaXN0Q2hlY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtLWxpXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZUxpc3RDaGVja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbm9kZUxpc3RDaGVja0xpc3RbaV0ucmVtb3ZlKCk7XG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXRvZG9cIikucmVzZXQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlUb0RvKCkge1xuXG4gICAgbGV0IFRpdGxlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJUaXRsZVwiKTtcbiAgICBsZXQgRGVzY3JpcHRpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkRlc2NyaXB0aW9uXCIpO1xuICAgIGxldCBEdWVEYXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJEdWVEYXRlXCIpO1xuICAgIGxldCBQcmlvcml0eSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiUHJpb3JpdHlcIik7XG4gICAgbGV0IGNoZWNrTGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQ2hlY2tMaXN0XCIpO1xuXG4gICAgaWYgKFRpdGxlID09IG51bGwgfHwgRGVzY3JpcHRpb24gPT0gbnVsbCB8fCBEdWVEYXRlID09IG51bGwgfHwgUHJpb3JpdHkgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlRGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZFwiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZURpdnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVtb3ZlRGl2c1tpXS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwiY2FyZFwiKTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChjYXJkKTtcblxuICAgIFxuICAgIGxldCBkaXNwbGF5QXJyYXkgPSB7IFRpdGxlLCBEZXNjcmlwdGlvbiwgRHVlRGF0ZSwgUHJpb3JpdHkgfTtcbiAgICBcbiAgICBmb3IgKGxldCBrZXkgaW4gZGlzcGxheUFycmF5KSB7XG4gICAgICAgIGNvbnN0IHBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgcGFyYS50ZXh0Q29udGVudCA9IChgJHtrZXl9OiAke2Rpc3BsYXlBcnJheVtrZXldfWApO1xuICAgICAgICBjYXJkLmFwcGVuZENoaWxkKHBhcmEpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwYXJhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInBcIik7XG4gICAgY29uc3QgY2hlY2tMaXN0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBjaGVja0xpc3RMYWJlbC50ZXh0Q29udGVudCA9IFwiQ2hlY2tMaXN0IEl0ZW1zIChDbGljayBpdGVtIHdoZW4gY29tcGxldGVkKTpcIjtcbiAgICBjb25zdCB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICBjaGVja0xpc3RMYWJlbC5jbGFzc0xpc3QuYWRkKFwiY2hlY2stbGlzdC1sYWJlbFwiKTtcbiAgICBwYXJhW3BhcmEubGVuZ3RoIC0gMV0uYXBwZW5kQ2hpbGQodWwpO1xuICAgIHVsLmFwcGVuZENoaWxkKGNoZWNrTGlzdExhYmVsKTtcbiAgICBsZXQgY2hlY2tMaXN0QXJyYXkgPSBjaGVja0xpc3Quc3BsaXQoXCIsXCIpO1xuICAgIFxuICAgIGlmIChjaGVja0xpc3QgIT09IFwiXCIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja0xpc3RBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgICAgICBsaS5jbGFzc05hbWUgPSBcImRpc3BsYXktbGlcIjtcbiAgICAgICAgICAgIGxpLnRleHRDb250ZW50ID0gY2hlY2tMaXN0QXJyYXlbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiBzdHJpa2VPdXRDaGVja0xpc3RJdGVtICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGkuY2xhc3NMaXN0LnRvZ2dsZShcImRvbmVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obGkudGV4dENvbnRlbnQsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpLmNsYXNzTGlzdC50b2dnbGUoXCJkaXNwbGF5LWxpXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obGkudGV4dENvbnRlbnQsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZGVsZXRlVG9Eb0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZGVsZXRlVG9Eb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwicmVtb3ZlLXRvZG8tYnV0dG9uXCIpO1xuICAgIGRlbGV0ZVRvRG9CdXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0ZS9Db21wbGV0ZSBUb0RvXCI7XG4gICAgY2FyZC5hcHBlbmRDaGlsZChkZWxldGVUb0RvQnV0dG9uKTtcbiAgICBkZWxldGVUb0RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiBkZWxldGVUb0RvKCkge1xuICAgICAgICBjYXJkLnJlbW92ZSgpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgbGlOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGlzcGxheS1saVwiKTtcbiAgICAgICAgbGlOb2Rlcy5mb3JFYWNoKGxpTm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0obGlOb2RlLnRleHRDb250ZW50KSA9PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIGxpTm9kZS5jbGFzc05hbWUgPSBcImRvbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBwYXJzZUlTTywgc3RhcnRPZlRvZGF5IH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgeyBjbGVhckZvcm0gfSBmcm9tIFwiLi9kb20tbWFuaXAuanNcIjtcbmltcG9ydCB7IHNhdmVUb0RvVG9Mb2NhbCB9IGZyb20gXCIuL2xvY2FsLXN0b3JhZ2UuanNcIjtcblxubGV0IHRvRG9BcnJheSA9IFtdO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVG9EbyA9ICgpID0+IHtcbiAgbGV0IFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJUaXRsZVwiKS52YWx1ZTtcbiAgbGV0IERlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJEZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgbGV0IER1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkR1ZURhdGVcIikudmFsdWU7XG4gIGxldCBQcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUHJpb3JpdHlcIikudmFsdWU7XG5cbiAgaWYgKFRpdGxlID09IFwiXCIgfHwgRGVzY3JpcHRpb24gPT0gXCJcIiB8fCBEdWVEYXRlID09IFwiXCIpIHtcbiAgICBhbGVydChcbiAgICAgIFwiVGl0bGUsIERlc2NyaXB0aW9uLCBhbmQgRHVlIERhdGUgYXJlIHJlcXVpcmVkIGZpZWxkcywgcGxlYXNlIHRyeSBhZ2FpbiFcIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHBhcnNlSVNPKER1ZURhdGUpIDwgc3RhcnRPZlRvZGF5KCkpIHtcbiAgICBhbGVydChcbiAgICAgIFwiWW91IGhhdmUgZW50ZXJlZCBhIGRhdGUgdGhhdCBoYXMgYWxyZWFkeSBwYXNzZWQhICBQbGVhc2UgZW50ZXIgYSBkYXRlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0b2RheS5cIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgbm9kZUxpc3RDaGVja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tbGlcIik7XG4gIGxldCBjaGVja0xpc3RBcnJheSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVMaXN0Q2hlY2tMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHN0cmlwcGVkQ2hlY2tMaXN0ID0gbm9kZUxpc3RDaGVja0xpc3RbaV0udGV4dENvbnRlbnQucmVwbGFjZShcbiAgICAgIFwiXFx1MDBEN1wiLFxuICAgICAgXCJcIlxuICAgICk7XG4gICAgY2hlY2tMaXN0QXJyYXkucHVzaChzdHJpcHBlZENoZWNrTGlzdCk7XG4gIH1cblxuICBsZXQgQ2hlY2tMaXN0ID0gY2hlY2tMaXN0QXJyYXkuam9pbihcIiwgXCIpO1xuICB0b0RvQXJyYXkucHVzaCh7IFRpdGxlLCBEZXNjcmlwdGlvbiwgRHVlRGF0ZSwgUHJpb3JpdHksIENoZWNrTGlzdCB9KTtcbiAgc2F2ZVRvRG9Ub0xvY2FsKHsgVGl0bGUsIERlc2NyaXB0aW9uLCBEdWVEYXRlLCBQcmlvcml0eSB9LCBDaGVja0xpc3QpO1xuICBjbGVhckZvcm0oKTtcblxuICByZXR1cm4geyBUaXRsZSwgRGVzY3JpcHRpb24sIER1ZURhdGUsIFByaW9yaXR5IH0sIENoZWNrTGlzdDtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0ludGVnZXIoZGlydHlOdW1iZXIpIHtcbiAgaWYgKGRpcnR5TnVtYmVyID09PSBudWxsIHx8IGRpcnR5TnVtYmVyID09PSB0cnVlIHx8IGRpcnR5TnVtYmVyID09PSBmYWxzZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG4gIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuICByZXR1cm4gbnVtYmVyIDwgMCA/IE1hdGguY2VpbChudW1iZXIpIDogTWF0aC5mbG9vcihudW1iZXIpO1xufSIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIG9yaWdpbmFsIGRhdGVcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBkYXkgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mRGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGRhdGU7XG59IiwiaW1wb3J0IF90eXBlb2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBhcmdTdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpO1xuXG4gIC8vIENsb25lIHRoZSBkYXRlXG4gIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIERhdGUgfHwgX3R5cGVvZihhcmd1bWVudCkgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNzdHJpbmctYXJndW1lbnRzXCIpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSBcIi4uL3N0YXJ0T2ZEYXkvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZlRvZGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgdG9kYXkuXG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiB0b2RheS5cbiAqXG4gKiA+IOKaoO+4jyBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IHByZXNlbnQgaW4gdGhlIEZQIHN1Ym1vZHVsZSBhc1xuICogPiBpdCB1c2VzIGBEYXRlLm5vdygpYCBpbnRlcm5hbGx5IGhlbmNlIGltcHVyZSBhbmQgY2FuJ3QgYmUgc2FmZWx5IGN1cnJpZWQuXG4gKlxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiB0b2RheVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyA2IE9jdG9iZXIgMjAxNDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZUb2RheSgpXG4gKiAvLz0+IE1vbiBPY3QgNiAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZUb2RheSgpIHtcbiAgcmV0dXJuIHN0YXJ0T2ZEYXkoRGF0ZS5ub3coKSk7XG59IiwiaW1wb3J0IHsgZGlzcGxheVRvRG8gfSBmcm9tIFwiLi9kb20tbWFuaXAuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVUb0RvVG9Mb2NhbCh7IFRpdGxlLCBEZXNjcmlwdGlvbiwgRHVlRGF0ZSwgUHJpb3JpdHkgfSwgQ2hlY2tMaXN0KSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJUaXRsZVwiLCBUaXRsZSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJEZXNjcmlwdGlvblwiLCBEZXNjcmlwdGlvbik7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJEdWVEYXRlXCIsIER1ZURhdGUpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiUHJpb3JpdHlcIiwgUHJpb3JpdHkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQ2hlY2tMaXN0XCIsIENoZWNrTGlzdCk7XG4gICAgZGlzcGxheVRvRG8oKTtcbiAgICByZXR1cm4geyBUaXRsZSwgRGVzY3JpcHRpb24sIER1ZURhdGUsIFByaW9yaXR5IH0sIENoZWNrTGlzdDtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVRvRG8gfSBmcm9tICcuL2NyZWF0ZS10by1kby5qcyc7XG5pbXBvcnQgeyBkaXNwbGF5VGhlRm9ybSwgYWRkSXRlbVRvQ2hlY2tMaXN0LCBjbGVhckZvcm0sIGRpc3BsYXlUb0RvIH0gZnJvbSAnLi9kb20tbWFuaXAuanMnXG5cbmRpc3BsYXlUb0RvKCk7XG5cbmxldCBjbGlja0V2ZW50c01vZHVsZSA9IChmdW5jdGlvbigpIHtcblxuICAgIGNvbnN0IGFkZE5ld1RvRG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10b2RvLWJ1dHRvblwiKTtcbiAgICBhZGROZXdUb0RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkaXNwbGF5VGhlRm9ybSk7XG5cbiAgICBjb25zdCBhZGRUb0NoZWNrbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRvLWNoZWNrbGlzdFwiKTtcbiAgICBhZGRUb0NoZWNrbGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkSXRlbVRvQ2hlY2tMaXN0KTtcblxuICAgIGNvbnN0IGNsZWFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXNldC1idXR0b25cIik7XG4gICAgY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsZWFyRm9ybSk7XG5cbiAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idXR0b25cIik7XG4gICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVUb0RvKTtcbiAgICBcbn0pKCk7XG4iXSwibmFtZXMiOlsiTWF0aCIsInBvdyIsIm1pbGxpc2Vjb25kc0luSG91ciIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsInBhdHRlcm5zIiwiZGF0ZVRpbWVEZWxpbWl0ZXIiLCJ0aW1lWm9uZURlbGltaXRlciIsInRpbWV6b25lIiwiZGF0ZVJlZ2V4IiwidGltZVJlZ2V4IiwidGltZXpvbmVSZWdleCIsInBhcnNlRGF0ZVVuaXQiLCJ2YWx1ZSIsInBhcnNlSW50IiwicGFyc2VUaW1lVW5pdCIsInBhcnNlRmxvYXQiLCJyZXBsYWNlIiwiZGF5c0luTW9udGhzIiwiaXNMZWFwWWVhckluZGV4IiwieWVhciIsIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiZGlzcGxheVRoZUZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwiYWRkSXRlbVRvQ2hlY2tMaXN0IiwiYWRkSXRlbSIsInVsIiwicXVlcnlTZWxlY3RvciIsImxpIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInRleHRDb250ZW50Iiwic3BhbiIsInJlbW92ZUljb24iLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjaGVja0xpc3RJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImNsZWFyRm9ybSIsIm5vZGVMaXN0Q2hlY2tMaXN0IiwiaSIsInJlc2V0IiwiZGlzcGxheVRvRG8iLCJUaXRsZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJEZXNjcmlwdGlvbiIsIkR1ZURhdGUiLCJQcmlvcml0eSIsImNoZWNrTGlzdCIsInJlbW92ZURpdnMiLCJwcm9qZWN0cyIsImNhcmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkaXNwbGF5QXJyYXkiLCJrZXkiLCJwYXJhIiwiY2hlY2tMaXN0TGFiZWwiLCJjaGVja0xpc3RBcnJheSIsInNwbGl0IiwidG9nZ2xlIiwic2V0SXRlbSIsImRlbGV0ZVRvRG9CdXR0b24iLCJjbGVhciIsIndpbmRvdyIsIm9ubG9hZCIsImxpTm9kZSIsInRvRG9BcnJheSIsImNyZWF0ZVRvRG8iLCJhbGVydCIsImFyZ3VtZW50Iiwib3B0aW9ucyIsIl9vcHRpb25zJGFkZGl0aW9uYWxEaSIsImFyZ3VtZW50cyIsImFkZGl0aW9uYWxEaWdpdHMiLCJkaXJ0eU51bWJlciIsIk5hTiIsIm51bWJlciIsIk51bWJlciIsImlzTmFOIiwiY2VpbCIsImZsb29yIiwidG9JbnRlZ2VyIiwiUmFuZ2VFcnJvciIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsIkRhdGUiLCJkYXRlIiwiZGF0ZVN0cmluZ3MiLCJkYXRlU3RyaW5nIiwidGltZVN0cmluZyIsImFycmF5IiwidGVzdCIsInN1YnN0ciIsInRva2VuIiwiZXhlYyIsInRpbWUiLCJzcGxpdERhdGVTdHJpbmciLCJwYXJzZVllYXJSZXN1bHQiLCJyZWdleCIsIlJlZ0V4cCIsImNhcHR1cmVzIiwibWF0Y2giLCJyZXN0RGF0ZVN0cmluZyIsImNlbnR1cnkiLCJzbGljZSIsInBhcnNlWWVhciIsImlzV2Vla0RhdGUiLCJkYXlPZlllYXIiLCJtb250aCIsImRheSIsIndlZWsiLCJkYXlPZldlZWsiLCJfeWVhciIsInZhbGlkYXRlV2Vla0RhdGUiLCJpc29XZWVrWWVhciIsInNldFVUQ0Z1bGxZZWFyIiwiZGlmZiIsImdldFVUQ0RheSIsInNldFVUQ0RhdGUiLCJnZXRVVENEYXRlIiwiZGF5T2ZJU09XZWVrWWVhciIsInZhbGlkYXRlRGF0ZSIsInZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSIsIm1heCIsInBhcnNlRGF0ZSIsImdldFRpbWUiLCJvZmZzZXQiLCJ0aW1lc3RhbXAiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwidmFsaWRhdGVUaW1lIiwicGFyc2VUaW1lIiwiZGlydHlEYXRlIiwicmVzdWx0Iiwic2V0RnVsbFllYXIiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwic2V0SG91cnMiLCJnZXRVVENIb3VycyIsImdldFVUQ01pbnV0ZXMiLCJnZXRVVENTZWNvbmRzIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwidGltZXpvbmVTdHJpbmciLCJzaWduIiwiX2hvdXJzIiwidmFsaWRhdGVUaW1lem9uZSIsInBhcnNlVGltZXpvbmUiLCJwYXJzZUlTTyIsImFyZ1N0ciIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsInRvRGF0ZSIsInN0YXJ0T2ZEYXkiLCJub3ciLCJzdHJpcHBlZENoZWNrTGlzdCIsInB1c2giLCJDaGVja0xpc3QiLCJqb2luIiwic2F2ZVRvRG9Ub0xvY2FsIl0sInNvdXJjZVJvb3QiOiIifQ==